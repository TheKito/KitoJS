"use strict";window.kito=window.kito||{},window.kito.location=function(){function n(n){a();const o=n.coords;u={latitude:o.latitude,longitude:o.longitude,accuracy:o.accuracy,updated:Math.floor((new Date).getTime()/1e3)},console.log(u)}function o(n){console.warn(n)}function t(){return null===l&&("geolocation"in navigator?l=navigator.geolocation.watchPosition(n,o,r):console.log("Geo Location not supported by browser")),this}async function i(){if(null!==u)return!0;if("permissions"in navigator){const n=await navigator.permissions.query({name:"geolocation"});if("granted"==n.state)return!0}return!!e()}function e(){if("localStorage"in window)return!0===window.localStorage.getItem(c)}function a(){if("localStorage"in window){if(e())return;window.localStorage.setItem(c,!0)}}const c="KitoLocationOK",r={enableHighAccuracy:!0,timeout:5e3,maximumAge:0};var u=null,l=null;return async function(){await i()&&t()}(),{isEnabled:function(){return i()},initLocation:function(){return t(),this},getLocation:function(){return u}}}();